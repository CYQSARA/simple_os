use c++ code, write os every component in protected mode in dos.

ex:
timer interrupt
paging

